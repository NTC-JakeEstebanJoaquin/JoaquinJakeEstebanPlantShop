<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Plant Shop</title>
  <style>
    /* Global Styles */
    body { font-family: Arial, sans-serif; margin: 0; padding: 0; background-color: #f9f9f9; color: #333; line-height: 1.6; }
    h1, h2, h3 { margin: 0; color: #2d5016; }
    p { margin: 10px 0; }
    button { margin: 5px; cursor: pointer; }
    .hidden { display: none; }

    /* Header */
    header { display: flex; justify-content: space-between; align-items: center; padding: 15px 20px; background-color: #4caf50; color: white; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); }
    header h1 { font-size: 1.5rem; }
    header nav { display: flex; align-items: center; gap: 15px; }
    header nav span { color: white; text-decoration: none; font-weight: bold; cursor: pointer; }
    header nav span:not(#cart-count) { padding: 5px 10px; border-radius: 5px; background-color: #388e3c; }
    header nav #cart-count { font-size: 1.2rem; background-color: #388e3c; padding: 5px 10px; border-radius: 50%; }

    /* Landing Page */
    #landing { background-image: url('assets/plant-bg.jpg'); background-size: cover; background-position: center; height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; color: white; padding: 20px; }
    #landing h1 { font-size: 3rem; margin-bottom: 20px; text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5); }
    #landing p { font-size: 1.2rem; max-width: 600px; margin-bottom: 30px; background-color: rgba(0, 0, 0, 0.5); padding: 15px; border-radius: 8px; }
    #landing button { background-color: #4caf50; color: white; border: none; padding: 15px 30px; font-size: 1.1rem; border-radius: 5px; }

    /* Product Listing */
    #products { padding: 20px; max-width: 1200px; margin: 0 auto; }
    #products h2 { margin-top: 40px; border-bottom: 2px solid #4caf50; padding-bottom: 10px; }
    .plant-grid { display: flex; flex-wrap: wrap; gap: 20px; justify-content: center; }
    .plant-card { background-color: white; border: 1px solid #ddd; border-radius: 8px; padding: 15px; text-align: center; width: 250px; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); }
    .plant-card img { width: 100%; height: 150px; object-fit: cover; border-radius: 5px; }
    .plant-card button { background-color: #4caf50; color: white; border: none; padding: 10px 20px; border-radius: 5px; }
    .plant-card button:disabled { background-color: #ccc; cursor: not-allowed; }

    /* Shopping Cart */
    #cart { padding: 20px; max-width: 800px; margin: 0 auto; }
    .cart-summary { background-color: white; padding: 15px; border-radius: 8px; margin-bottom: 20px; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); }
    .cart-item { display: flex; align-items: center; background-color: white; padding: 15px; margin-bottom: 10px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); }
    .cart-item img { width: 50px; height: 50px; object-fit: cover; border-radius: 5px; margin-right: 15px; }
    .cart-item h3 { flex: 1; }
    .cart-item button { background-color: #f44336; color: white; border: none; padding: 5px 10px; border-radius: 5px; margin-left: 10px; }
    .quantity-controls { display: flex; align-items: center; margin: 0 10px; }
    .quantity-controls button { background-color: #4caf50; color: white; border: none; padding: 5px 10px; border-radius: 5px; margin: 0 5px; }
    .checkout-button { background-color: #ff9800; color: white; border: none; padding: 15px 30px; font-size: 1.1rem; border-radius: 5px; margin-right: 10px; }
    .continue-shopping-button { background-color: #2196f3; color: white; border: none; padding: 15px 30px; font-size: 1.1rem; border-radius: 5px; }

    /* Responsive */
    @media (max-width: 768px) { .plant-grid { flex-direction: column; align-items: center; } .plant-card { width: 100%; max-width: 300px; } }
  </style>
</head>
<body>
  <!-- Shared Header (shown on products and cart) -->
  <header id="header" class="hidden">
    <h1>Plant Shop</h1>
    <nav>
      <span onclick="showProducts()">Products</span>
      <span onclick="showCart()">Cart</span>
      <span id="cart-count">ðŸ›’ 0</span>
    </nav>
  </header>

  <!-- Landing Page Section -->
  <div id="landing">
    <h1>GreenThumb Nursery</h1>
    <p>Welcome to GreenThumb Nursery, your go-to source for beautiful houseplants. We offer a wide variety of plants to brighten your home and improve your air quality.</p>
    <button onclick="showProducts()">Get Started</button>
  </div>

  <!-- Product Listing Section -->
  <div id="products" class="hidden">
    <div>
      <h2>Low Light</h2>
      <div class="plant-grid">
        <div class="plant-card" data-id="1">
          <img src="assets/snake-plant.jpg" alt="Snake Plant">
          <h3>Snake Plant</h3>
          <p>$20</p>
          <button class="add-to-cart">Add to Cart</button>
        </div>
        <div class="plant-card" data-id="4">
          <img src="assets/peace-lily.jpg" alt="Peace Lily">
          <h3>Peace Lily</h3>
          <p>$25</p>
          <button class="add-to-cart">Add to Cart</button>
        </div>
      </div>
    </div>
    <div>
      <h2>Indoor</h2>
      <div class="plant-grid">
        <div class="plant-card" data-id="2">
          <img src="assets/pothos.jpg" alt="Pothos">
          <h3>Pothos</h3>
          <p>$15</p>
          <button class="add-to-cart">Add to Cart</button>
        </div>
        <div class="plant-card" data-id="3">
          <img src="assets/spider-plant.jpg" alt="Spider Plant">
          <h3>Spider Plant</h3>
          <p>$18</p>
          <button class="add-to-cart">Add to Cart</button>
        </div>
      </div>
    </div>
    <div>
      <h2>Outdoor</h2>
      <div class="plant-grid">
        <div class="plant-card" data-id="5">
          <img src="assets/zz-plant.jpg" alt="ZZ Plant">
          <h3>ZZ Plant</h3>
          <p>$22</p>
          <button class="add-to-cart">Add to Cart</button>
        </div>
        <div class="plant-card" data-id="6">
          <img src="assets/monstera.jpg" alt="Monstera">
          <h3>Monstera</h3>
          <p>$30</p>
          <button class="add-to-cart">Add to Cart</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Shopping Cart Section -->
  <div id="cart" class="hidden">
    <div class="cart-summary">
      <p>Total Plants: <span id="total-plants">0</span></p>
      <p>Total Cost: $<span id="total-cost">0</span></p>
    </div>
    <div id="cart-items"></div>
    <button class="checkout-button" onclick="checkout()">Checkout</button>
    <button class="continue-shopping-button" onclick="showProducts()">Continue Shopping</button>
  </div>

  <script>
    // Plant data
    const plants = {
      1: { name: 'Snake Plant', price: 20, thumbnail: 'assets/snake-plant.jpg' },
      2: { name: 'Pothos', price: 15, thumbnail: 'assets/pothos.jpg' },
      3: { name: 'Spider Plant', price: 18, thumbnail: 'assets/spider-plant.jpg' },
      4: { name: 'Peace Lily', price: 25, thumbnail: 'assets/peace-lily.jpg' },
      5: { name: 'ZZ Plant', price: 22, thumbnail: 'assets/zz-plant.jpg' },
      6: { name: 'Monstera', price: 30, thumbnail: 'assets/monstera.jpg' },
    };

    // Cart state (persisted in localStorage)
    let cart = JSON.parse(localStorage.getItem('cart')) || {};
    let addedItems = new Set(Object.keys(cart));

    // Show/hide sections
    function showLanding() {
      document.getElementById('landing').classList.remove('hidden');
      document.getElementById('products').classList.add('hidden');
      document.getElementById('cart').classList.add('hidden');
      document.getElementById('header').classList.add('hidden');
    }
    function showProducts() {
      document.getElementById('landing').classList.add('hidden');
      document.getElementById('products').classList.remove('hidden');
      document.getElementById('cart').classList.add('hidden');
      document.getElementById('header').classList.remove('hidden');
      updateCartCount();
    }
    function showCart() {
      document.getElementById('landing').classList.add('hidden');
      document.getElementById('products').classList.add('hidden');
      document.getElementById('cart').classList.remove('hidden');
      document.getElementById('header').classList.remove('hidden');
      renderCart();
    }

    // Update cart count in header
    function updateCartCount() {
      const totalItems = Object.values(cart).reduce((sum, qty) => sum + qty, 0);
      document.getElementById('cart-count').textContent = `ðŸ›’ ${totalItems}`;
    }

    // Add to cart (functioning: increments count, disables button, adds to cart)
    function addToCart(id) {
      if (!addedItems.has(id.toString())) {
        cart[id] = (cart[id] || 0) + 1;
        addedItems.add(id.toString());
        localStorage.setItem('cart', JSON.stringify(cart));
        updateCartCount();
        // Disable the button
        document.querySelector(`.plant-card[data-id="${id}"] .add-to-cart`).disabled = true;
      }
    }

    // Increase quantity (functioning: updates cart and re-renders)
    function increaseQuantity(id) {
      cart[id] = (cart[id] || 0) + 1;
      localStorage.setItem('cart', JSON.stringify(cart));
      renderCart();
    }

    // Decrease quantity (functioning: only if >1, updates cart and re-renders)
    function decreaseQuantity(id) {
      if (cart[id] > 1) {
        cart[id] -= 1;
        localStorage.setItem('cart', JSON.stringify(cart));
        renderCart();
      }
    }

    // Remove item (functioning: deletes from cart, re-enables Add to Cart button, updates counts)
    function removeItem(id) {
      delete cart[id];
      addedItems.delete(id.toString());
      localStorage.setItem('cart', JSON.stringify(cart));
      renderCart();
      updateCartCount();
      // Re-enable the Add to Cart button
      const button = document.querySelector(`.plant-card[data-id="${id}"] .add-to-cart`);
      if (button) button.disabled = false;
    }

    // Render cart (functioning: updates totals and item list)
    function renderCart() {
      const cartItemsEl = document.getElementById('cart-items');
      const totalPlantsEl = document.getElementById('total-plants');
      const totalCostEl = document.getElementById('total-cost');
      cartItemsEl.innerHTML = '';
      let totalPlants = 0;
      let totalCost = 0;
      Object.keys(cart).forEach(id => {
        const plant = plants[id];
        const quantity = cart[id];
        totalPlants += quantity;
        totalCost += plant.price * quantity;
        const itemEl = document.createElement('div');
        itemEl.className = 'cart-item';
        itemEl.innerHTML = `
          <img src="${plant.thumbnail}" alt="${plant.name}">
          <h3>${plant.name}</h3>
          <p>$${plant.price}</p>
          <div class="quantity-controls">
            <button onclick="decreaseQuantity(${id})">-</button>
            <span>${quantity}</span>
            <button onclick="increaseQuantity(${id})">+</button>
          </div>
          <button onclick="removeItem(${id})">Delete</button>
        `;
        cartItemsEl.appendChild(itemEl);
      });
      totalPlantsEl.textContent = totalPlants;
      totalCostEl.textContent = totalCost;
    }

    // Checkout (functioning: shows alert)
    function checkout() {
      alert('Coming Soon!');
    }

    // Initialize on page load
    document.addEventListener('DOMContentLoaded', () => {
      showLanding(); // Start with landing page
      // Attach Add to Cart event listeners
      document.querySelectorAll('.add-to-cart').forEach(button => {
        button.addEventListener('click', (e) => {
          const id = e.target.closest('.plant-card').dataset.id;
          addToCart(id);
        });
      });
    });
  </script>
</body>
</html>
